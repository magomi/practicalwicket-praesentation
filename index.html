<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Practical Wicket</title>

		<meta name="description" content="Practical Wicket">
		<meta name="author" content="Bert Radke und Marco Grunert">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/simple.css" id="theme">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- If the query includes 'print-pdf', include the PDF print sheet -->
		<script>
			if( window.location.search.match( /print-pdf/gi ) ) {
				var link = document.createElement( 'link' );
				link.rel = 'stylesheet';
				link.type = 'text/css';
				link.href = 'css/print/pdf.css';
				document.getElementsByTagName( 'head' )[0].appendChild( link );
			}
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>
		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
        
        <section>
          <h1>Web-Apps und Java</h1>
          <img class="stretch" src="images/baehhh.gif"/>
		  <aside class="notes">
	          Lirum larum löffelstiel...
	      </aside>
        </section>
		
		<section>
          <h1>Practical Wicket</h1>
					<p style="text-align:left; font-size:smaller;">
            Wicket hat sich als ernstzunehmendes Framework für die Entwicklung von komplexen Informationssystemen 
            etabliert. UI-Komponenten lassen sich einfach und intuitiv entwickeln, der Support durch die Community 
            aus Anwendern und Entwicklern ist ausgezeichnet.
          </p>
					<p style="text-align:left; font-size:smaller;">
            Diese Merkmale sind aber häufig nicht die ausschlaggebenden Argumente für oder wider den Einsatz eines 
            Frameworks. Meist steht die Integration in eine vorgegeben Infrastruktur aus Frameworks, 
            Entwicklungsrichtlinien, Wissensstand der Mitarbeiter an erster Stelle bei den Auswahlkriterien.
          </p>
					<p style="text-align:left; font-size:smaller;">
            Welch gute Figur dabei Wicket macht zeigen wir anhand diverser Beispiele aus unserer täglichen Praxis. 
            Von der Zusammenarbeit mit diversen Peristenzframeworks, Wickets Integration mit Spring oder CDI, 
            der Integration von JQuery bis hin zur Arbeitserleichterung mit IDE-Plugins - anhand von konkreten 
            Beispielen zeigen wir wie einfach die Arbeit mit Wicket sein kann.
          </p>
				</section>

        <section>
          <h1>Agenda</h1>
          <ul>
            <li>Warum Apache Wicket?</li>
            <li>Grundaufbau einer Wicket-Anwendung</li>
            <li>Komponenten mit Daten verknüpfen</li>
            <li>Sichere Wicket Anwendungen</li>
            <li>Wicket für Macher</li>
            <li>Und nun...?</li>
          </ul>
        </section>  

				<section>
          <h1>We are...</h1>
          <h2 style="text-align:left;">Bert Radke <a href="https://plus.google.com/+BertRadke">+BertRadke</a></h2>
					<p style="text-align:left;">
						XML is like violence. If it doesn't solve your problem, you're not using enough of it.
					</p>
          <h2 style="text-align:left;">Marco Grunert <a href="http://twitter.com/magomi">@magomi</a></h2>
          <p style="text-align:left;">
            An optimist person will say that the glass is half-full.
          </p>
          <p style="text-align:left;">
            A pessimist person will say that the glass is half-empty.
          </p>
          <p style="text-align:left;">
            A programmer will say that the glass is twice as large as necessary.
          </p>
				</section>

				<section>
          <h1>Once upon a time...</h1>
					<ul>
            <li>2005: Wicket 1.0</li>
            <li>...</li>
            <li>2010: Wicket 1.5</li>
            <ul>
              <li>Generics</li>
            </ul>
            <li>2012: Wicket 6</li>
            <ul>
              <li>Events</li>
              <li>Integration von JQuery</li>
              <li>Überarbeites Resourcehandling</li>
            </ul>
            <li>2014: Wicket 7 beta</li>
          </ul>
				</section>
       
        <section>
          <h1>Why Wicket?</h1>
					<ul>
            <li>Models sind Pojo</li>
            <li>Separation of Concerns</li>
            <li>Secure</li>
            <li>Reusable Components</li>
            <li>Support of Backbutton</li>
            <li>Localisation</li>
            <li>http://wicket.apache.org/meet/features.html</li>
          </ul>
				</section>

        <section>
          <h1>Los gehts...</h1>
          <pre><code data-trim>
mvn archetype:generate -DarchetypeGroupId=org.apache.wicket \
                       -DarchetypeArtifactId=wicket-archetype-quickstart \
                       -DarchetypeVersion=6.14.0 \
                       -DgroupId=de.practicalwicket -DartifactId=demo \
                       -DarchetypeRepository=https://repository.apache.org/ \
                       -DinteractiveMode=false                       
          </code></pre>
        </section>

        <section>
          <h1>Projektstruktur</h1>
          <img class="stretch" src="images/initiale_projektstruktur.png" />
        </section>
		
        <section>
          <h1>Java &amp; HTML</h1>
          <pre><code data-trim>
public class HomePage extends WebPage {
    private Person goethe = new Person("Goethe", "Mehr Licht!");
    public HomePage() {
        setDefaultModel(new CompoundPropertyModel&lt;Person&gt;(goethe));
        add(new Label("name"));
        add(new Label("famousLastWord"));
    }
    private class Person {
        private String name;
        private String famousLastWord;
        private Person(String name, String famousLastWord) {...}
    }
}
          </code></pre>
          <pre><code data-trim>
&lt;!DOCTYPE html&gt;
&lt;html xmlns:wicket="http://wicket.apache.org"&gt;
    &lt;head&lt;title>Famous last Words&lt;/title&gt;&lt;/head&gt;
    &lt;body&lt;
        &lt;span wicket:id="name">[name]&lt;/span&gt; sagte 
        &lt;span wicket:id="famousLastWord"&gt;[noch nichts]&lt;/span&gt;
    &lt;/body&gt;
&lt;/html&gt;
          </code></pre>
        </section>

        <section>
          <h1>Pages, Components,...</h1>
          <h2>Vererbung</h2>
          <pre><code data-trim>
public class BasePage extends WebPage {
    private final String title;
    public BasePage(String title) {
        this.title = title;
    }
    @Override
    protected void onInitialize() {
        super.onInitialize();
        add(new Label("title", title));
        add(new BookmarkablePageLink&lt;HomePage&gt;("homepage", HomePage.class));
        add(new BookmarkablePageLink&lt;Page1&gt;("page1", Page1.class));
        add(new BookmarkablePageLink&lt;Page2&gt;("page2", Page2.class));
    }
}
          </code></pre>

          <pre><code data-trim>
public class Page1 extends BasePage {
    public Page1() {
        super("Page 1");
    }
}
          </code></pre>

        </section>

        <section>
          <h1>Pages, Components,...</h1>
          <h2>Composition</h2>
          <pre><code data-trim>
public class BasePage extends WebPage {
    [...]
    @Override
    protected void onInitialize() {
        [...]
        add(getFooterPanel("footerPanel"));		
    }
    protected Component getFooterPanel(String wicketID) {
        return new EmptyPanel(wicketID);
    }
}
          </code></pre>

          <pre><code data-trim>
public class Page1 extends BasePage {
    [...]
    @Override
    protected Component getFooterPanel(String wicketID) {
        return new Page1FooterPanel(wicketID);
    }
}
          </code></pre>
        </section>
		
		<section>
			<section>
				<h1>Formulare</h1>
				<ul>
					<li>Formulare am besten durch Models unterstützen</li>
					<li>einfache Hierarchie
						<ul>
							<li>Formular</li>
							<li>Eingabekomponenten</li>
							<li>Aktionen</li>
						</ul>
					</li>
					<li>automatische Konvertierungen</li>
					<li>Validatoren</li>
				</ul>
			</section>
			<section>
				<h1>Formular und Felder</h1>
				<pre><code data-trim>
Form&lt;Registration> form = new Form&lt;Registration&gt;(
        "form", 
        new CompoundPropertyModel&lt;Registration&gt;(new Registration())) {
    @Override
    protected void onSubmit() {
        super.onSubmit();
        setResponsePage(new RegistrationSuccess(getModel()));
    }
};
form.add(new TextField&lt;String&gt;("email"));
form.add(new TextField&lt;String&gt;("userName"));
form.add(new PasswordTextField("password"));
				</code></pre>
			</section>
			<section>
				<h1>Validierung</h1>
				<ul>
					<li>Verschiedenste Validatoren mitgeliefert
						<ul>
							<li>Zahlen, Textlängen</li>
							<li>Pattern, Range</li>
							<li>E-Mail</li>
						</ul>
					</li>
					<li>eigene Validatoren sind einfach:</li>
				</ul>
				<pre><code data-trim>
userName.add(new IValidator&lt;String&gt;() {
    @Override
    public void validate(IValidatable&lt;String&gt; validatable) {
        if (validatable.getValue().length() &lt; 4 ) {
            ValidationError validationError = new ValidationError().addKey("username.error");
            validationError.setVariable("userName", validatable.getValue());
            validatable.error(validationError);
         }
    }
});
				</code></pre>
			</section>
		</section>
		
		<section>
			<h1>Fehlerbehandlung</h1>
			<ul>
				<li>manuelle Markierung fehlerhafter Element</li>
				<li>automatische Markierung</li>
			</ul>
		</section>

		<section>
			<h1>Goodies</h1>
			<ul>
				<li>PageParameters</li>
				<li>Resourcen on the fly erzeugen</li>
				<li>Resourcebundles</li>
				<li>Security</li>
				<li>Internationalisierung</li>
			</ul>
		</section>

        <section>
			<section>
				<h1>Test</h1>
				<ul>
					<li>Build-In Unittesting</li>
					<li>Klasse WicketTester als zentrale Komponente</li>
					<li>Test von 
					<ul>
							<li>Interaktionen</li>
							<li>Status von Componenten</li>
							<li>Responses</li>
							<li>Ajax-Calls</li>
						</ul>
					</li>
					<li>Überprüfung des erzeugten Markup</li>
				</ul>
			</section>
			<section>
				<h1>WicketTester</h1>
				<ul>
					<li><i>WicketTester</i> als Einstieg</li>
				</ul>
				<pre><code data-trim> 				
WicketTester tester = new WicketTester(new WicketApplication());
                </code></pre>
				<ul>
					<li>diverse assert-Methoden auf Wickettester</li>
				</ul>
				<pre><code data-trim> 				
tester.startPage(HomePage.class);
tester.assertRenderedPage(HomePage.class);
tester.assertLabel("title", "Home Page");
tester.clickLink("registration");
tester.assertLabel("title", "Registration");
                </code></pre>
			</section>
			<section>
				<h1>FormTester</h1>
				<ul>
					<li><i>FormTester</i> zum Testen von Formularen</li>
					<li>Eingabe von Daten</li>
					<li>Formular submitten</li>
					<li>Prüfung von Fehlermeldungen</li>
				</ul>
				<pre><code data-trim> 				
WicketTester tester = new WicketTester(new WicketApplication());
tester.startPage(RegistrationPage.class);
FormTester formTester = tester.newFormTester("form", false);
formTester.setValue("userName", "jb");
[...]
formTester.submit();
tester.assertErrorMessages("invalid user name: jb");
                </code></pre>
			</section>
		</section>
		
		<section>
			<section>
				<h1>Dependency Injection</h1>
				<ul>
					<li>Spring</li>
					<li>JEE CDI</li>
					<li>Guice</li>
				</ul>
			</section>
			<section>
				<h1>Spring</h1>
				<ul>
					<li>Listener in web.xml definieren</li>
					<li>Pfad zur Kontextdefinition eintragen</li>
					<li>Laden des Kontext in Applikation initieren</li>
					<li>Viel Spass mit Spring!</li>
				</ul>
			</section>
		</section>	
		
		<section>
			<h1>IDEs</h1>
			<ul>
				<li>Ist das wirklich nötig?</li>
				<li>Einbindung über Plugins
					<ul>
						<li>Eclipse: Qwickie</li>
						<li>IDEA: WicketForge</li>
						<li>Netbeans: ???</li>
					</ul>
				</li>
				<li>WicketSource
					<ul>
						<li>Kopplung von Browser und IDE</li>
						<li>Öffnen des Quellcodes direkt aus Browser</li>
						<li>IDEs: Eclipse und IDEA</li>
						<li>Browser: Firefox und Chrome</li>
					</ul>
				</li>				
			</ul>
		</section>
		
		<section>
			<section>
				<h1>Energieabrechnung 1</h1>
				<img class="stretch" src="images/screenshot_centergy_01.png"/>
			</section>
			<section>
				<h1>Energieabrechnung 2</h1>
				<img class="stretch" src="images/screenshot_centergy_02.png"/>
			</section>
			<section>
				<h1>Sitzungsverwaltung</h1>
				<img class="stretch" src="images/screenshot_esv_02.png"/>
			</section>
			<section>
				<h1>Mautsystem 1</h1>
				<img class="stretch" src="images/screenshot_m_01.png"/>
			</section>
			<section>
				<h1>Mautsystem 2</h1>
				<img class="stretch" src="images/screenshot_m_02.png"/>
			</section>
			<section>
				<h1>Vorgangsverwaltung A</h1>
				<img class="stretch" src="images/screenshot_evb_01.png"/>
			</section>
			<section>
				<h1>Vorgangsverwaltung B</h1>
				<img class="stretch" src="images/screenshot_vvs_01.png"/>
			</section>
		</section>
      </div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.min.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

        width: 1280,
        height: 900,

        margin: 0.1,

        minScale: 0.2,
        maxScale: 1.0,

				theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
				transition: Reveal.getQueryHash().transition || 'linear', // default/cube/page/concave/zoom/linear/fade/none

				// Parallax scrolling
				// parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
				// parallaxBackgroundSize: '2100px 900px',

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});

		</script>

	</body>
</html>
